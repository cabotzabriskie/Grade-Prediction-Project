# Grade Prediction Project

The Grade Prediction Project (GPP) was developed as a way of using machine learning to provide
an early warning system to introductory physics courses. Using registrar data and in course variables
we built series of models based on what is known in weeks 1-5 of the introductory physics series.
These models can, with reasonably high accuracy, predict if a student will get less than a B in the course.
As most instructors often have to wait for the midterms to have a good idea of which students need help, it
is our belief that with these models interventions can be targeted much earlier and in-danger students 
can get the help they need before it is too late to change their course trajectory.

## Getting Started

The code to build the models for Physics 1 and Physics 2 are kept separate. The most useable code is written in R;
however, the 112 analysis was also written in python as a practice exercise and builds the same random forest models
as the R code.

### Prerequisites

For the R code, you should have R 3.5.1 or newer installed. All of the R code was written in R Studio.

For the python code, you will should work in python 3.7 or newer. All of the python code was written using
jupyter notebook.

NOTE: Due to data being FERPA protected, only the code from the project was uploaded.


## Running the Physics 1 Code

Run "111FullDatasetCreator.R"
	-This will split the entire gradebook into weekly datasets
	-Merges the registrar data with the course data.
	-Creates the appropriate weekly columns.
		
Run "AnalysisByWeek.R"

	-Generates logistic and Random forest models for registrar data

	-Generates weekly logistic and Random forest models for class and combined class & registrar data

## Running the Physics 2 Code

### In R

Run "Weekly Data Splitter.R"
	-This will split the entire gradebook into weekly datasets
	-Creates columns for:
		FinalCourseGradeAB_Rest
		Lab[i]Missed - Indicator of if a particular lab was missed
		FHwk - codes writen homeworks to friday homeworks
		Lec[i]Missed
		TakeCSEM - if took the CSEM
		
Run "Registrar Data Manipulator.R"
	-Merges Registrar data with wk1 to remove individuals not in the class dataset
		Registrar data N = 70820
		wk1 N = 1282
		Removing students not in Registrar but in wk1 N = 1281
		Removing all NA's (required for Random Forests) N = 907
		Removing students w/o HSGPA N = 886
		Removing students w/o ACTSATM N = 801
		Size of Analysis dataset = 801
		
	-Generates a dataset with the following variables
		"Username"
		"CURCMP"
		"CURGPA"
		"CURAZcount"
		"CURCred"
		"CUREnroll"
		"P111LastGradeAB_Rest"
		"P111WVUCount"
		"HSGPA"
		"ACTSATM"
		"ACTSATV"
		"Cal1LastGradeAB_Rest"
		"Cal1WVUCount"
		"APCount"
		"APCredit"
		"TransferCount"
		"TransferCredit"
		"IsFirstGen"
		"IsFirstFall"
		"MathEntry"
		"IsWV"
		"P112LastSem"
		"P112FirstAttempt"
		
Run "Registrar Model.R"
	-Generates logistic and Random forest models for registrar data
	
Run "Week 1 Analysis.R" through "Week 8 Analysis.R"
	-Generates logistic and Random forest models for class and combined class & registrar data

### In Python

Use the weekly files and registrar files generated by the R code

Run "Week 1 Analysis - just STEM-R-Phys 112.ipynb"
	- This will generate the baseline guessing model as well as the model using only registar data.

Run each weekly file independently
	- Make sure to take the accuracy values determined for the baseline model and add them to each of
	  these.
	- This will generate the appropriate model for each week of the semester using only the class variables
	  and then add in the registrar model to create the "best" model.
	- In each case there is a comparison of multiple ML techniques to show how each perform.


## Built With

* [RStudio](https://www.rstudio.com/) - R development environment
* [jupyter](http://jupyter.org/) - Python development environment


## Authors

* **Cabot Zabriskie** - *Coding and Analysis* - [cabotzabriskie](https://cabotzabriskie.github.io)
* **Seth DeVore** - *Coding and Analysis* - [WVU Faculty Page] (https://physics.wvu.edu/faculty-and-staff/faculty/seth-devore)
* **John Stewart** - *Research Advisor* [Stewart Physics](http://stewartphysics.com/contact.html)


## Acknowledgments

* Thanks to everyone's whose code examples helped to make this run!


